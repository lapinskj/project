{"ast":null,"code":"import _classCallCheck from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import EditMedicineModal from\"./EditMedicineModal\";import axios from\"axios\";var Medicines=/*#__PURE__*/function(_Component){_inherits(Medicines,_Component);var _super=_createSuper(Medicines);function Medicines(props){var _this;_classCallCheck(this,Medicines);_this=_super.call(this,props);_this.refreshList=function(){axios.get(\"medicines/\").then(function(res){return _this.setState({medicinesList:res.data});}).catch(function(err){return console.log(err);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();if(item.id){axios.put(\"medicines/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"medicines/\",item).then(function(res){return _this.refreshList();});};_this.handleDelete=function(item){axios.delete(\"medicines/\".concat(item.id)).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={name:\"\",surname:\"\",age:null};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.renderMedicines=function(){var medicinesItems=_this.state.medicinesList;return medicinesItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(\"span\",null,item.name,\" \",item.price),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this.editItem(item);},className:\"btn btn-info ml-2\"},\" Edit \"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this.handleDelete(item);},className:\"btn btn-danger ml-2\"},\" Delete \")));});};_this.state={modal:false,medicinesList:[],activeItem:{name:\"\",price:null}};return _this;}_createClass(Medicines,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.createItem,className:\"btn btn-secondary\"},\"Add medicine\"),/*#__PURE__*/React.createElement(\"ul\",null,this.renderMedicines())),this.state.modal?/*#__PURE__*/React.createElement(EditMedicineModal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null);}}]);return Medicines;}(Component);export default Medicines;","map":{"version":3,"sources":["/Users/justyna/Desktop/apkaTest/frontend/src/components/Medicines.js"],"names":["React","Component","EditMedicineModal","axios","Medicines","props","refreshList","get","then","res","setState","medicinesList","data","catch","err","console","log","toggle","modal","state","handleSubmit","item","id","put","post","handleDelete","delete","createItem","name","surname","age","activeItem","editItem","renderMedicines","medicinesItems","map","price"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EditMedicineModal from \"./EditMedicineModal\";\nimport axios from \"axios\";\n\n\nclass Medicines extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            modal: false,\n            medicinesList: [],\n            activeItem: {\n                name: \"\",\n                price: null\n            },\n        };\n    }\n    componentDidMount() {\n        this.refreshList();\n    }\n    refreshList = () => {\n        axios\n            .get(\"medicines/\")\n            .then(res => this.setState({ medicinesList: res.data }))\n            .catch(err => console.log(err));\n    };\n\n    toggle = () => {\n        this.setState({ modal: !this.state.modal });\n    };\n\n    handleSubmit = item => {\n        this.toggle();\n        if (item.id) {\n            axios\n                .put(`medicines/${item.id}/`, item)\n                .then(res => this.refreshList());\n            return;\n        }\n        axios\n            .post(\"medicines/\", item)\n            .then(res => this.refreshList());\n    };\n    handleDelete = item => {\n        axios\n            .delete(`medicines/${item.id}`)\n            .then(res => this.refreshList());\n    };\n    createItem = () => {\n        const item = { name: \"\", surname: \"\", age: null };\n        this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n    editItem = item => {\n        this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    renderMedicines = () => {\n        const medicinesItems = this.state.medicinesList;\n        return medicinesItems.map(item => (\n            <li key={item.id}>\n            <span>\n              {item.name} {item.price}\n            </span>\n                <span>\n              <button onClick={() => this.editItem(item)} className=\"btn btn-info ml-2\"> Edit </button>\n              <button onClick={() => this.handleDelete(item)} className=\"btn btn-danger ml-2\"> Delete </button>\n            </span>\n            </li>\n        ));\n    };\n\n    render() {\n        return (\n            <main className=\"content\">\n                <div>\n                    <button onClick={this.createItem} className=\"btn btn-secondary\">\n                        Add medicine\n                    </button>\n                    <ul>\n                        {this.renderMedicines()}\n                    </ul>\n                </div>\n                {this.state.modal ? (\n                    <EditMedicineModal\n                        activeItem={this.state.activeItem}\n                        toggle={this.toggle}\n                        onSave={this.handleSubmit}\n                    />\n                ) : null}\n            </main>\n        );\n    }\n\n}\n\nexport default Medicines;\n"]},"metadata":{},"sourceType":"module"}