{"ast":null,"code":"import _defineProperty from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Button,Form,FormGroup,Input,Label}from\"reactstrap\";var SearchMedicines=/*#__PURE__*/function(_Component){_inherits(SearchMedicines,_Component);var _super=_createSuper(SearchMedicines);function SearchMedicines(props){var _this;_classCallCheck(this,SearchMedicines);_this=_super.call(this,props);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;var searchValue=_defineProperty({},name,value);_this.setState({searchValue:searchValue});};_this.onSubmit=function(){var searchValue=_this.state.searchValue;console.log(searchValue);if(searchValue){axios.get(\"medicines/?name=\".concat(searchValue['name']),searchValue).then(function(res){return _this.setState({medicinesList:res.data});}).catch(function(err){return console.log(err);});console.log(\"sent\");}};_this.renderMedicines=function(){var medicinesItems=_this.state.medicinesList;return medicinesItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(\"span\",null,item.name,\" \",item.price));});};_this.state={medicinesList:[],searchValue:\"\"};return _this;}_createClass(SearchMedicines,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){console.log(this.state.medicinesList);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Search medicine\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",onChange:this.handleChange,placeholder:\"Search by medicine name\"}))),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:this.onSubmit},\"Search\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,\"Results:\"),this.renderMedicines()),/*#__PURE__*/React.createElement(\"p\",null,\"End\"));}}]);return SearchMedicines;}(Component);export default SearchMedicines;","map":{"version":3,"sources":["/Users/justyna/Desktop/apkaTest/frontend/src/components/SearchMedicines.js"],"names":["React","Component","axios","Button","Form","FormGroup","Input","Label","SearchMedicines","props","handleChange","e","target","name","value","searchValue","setState","onSubmit","state","console","log","get","then","res","medicinesList","data","catch","err","renderMedicines","medicinesItems","map","item","id","price"],"mappings":"6wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,CAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,KAAjC,CAAwCC,KAAxC,KAAoD,YAApD,C,GAGMC,CAAAA,e,kHAEF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EADe,MAYnBC,YAZmB,CAYJ,SAAAC,CAAC,CAAI,eACMA,CAAC,CAACC,MADR,CACVC,IADU,WACVA,IADU,CACJC,KADI,WACJA,KADI,CAEhB,GAAMC,CAAAA,WAAW,oBAAMF,IAAN,CAAaC,KAAb,CAAjB,CACA,MAAKE,QAAL,CAAc,CAAED,WAAW,CAAXA,WAAF,CAAd,EACH,CAhBkB,OAkBnBE,QAlBmB,CAkBR,UAAM,CACb,GAAIF,CAAAA,WAAW,CAAG,MAAKG,KAAL,CAAWH,WAA7B,CACAI,OAAO,CAACC,GAAR,CAAYL,WAAZ,EACA,GAAIA,WAAJ,CAAiB,CACbb,KAAK,CACAmB,GADL,2BAC4BN,WAAW,CAAC,MAAD,CADvC,EACmDA,WADnD,EAEKO,IAFL,CAEU,SAAAC,GAAG,QAAI,OAAKP,QAAL,CAAc,CAAEQ,aAAa,CAAED,GAAG,CAACE,IAArB,CAAd,CAAJ,EAFb,EAGKC,KAHL,CAGW,SAAAC,GAAG,QAAIR,CAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAAJ,EAHd,EAIAR,OAAO,CAACC,GAAR,CAAY,MAAZ,EACH,CACJ,CA5BkB,OA8BnBQ,eA9BmB,CA8BD,UAAM,CACpB,GAAMC,CAAAA,cAAc,CAAG,MAAKX,KAAL,CAAWM,aAAlC,CACA,MAAOK,CAAAA,cAAc,CAACC,GAAf,CAAmB,SAAAC,IAAI,qBAC1B,0BAAI,GAAG,CAAEA,IAAI,CAACC,EAAd,eACA,gCACGD,IAAI,CAAClB,IADR,KACekB,IAAI,CAACE,KADpB,CADA,CAD0B,EAAvB,CAAP,CAOH,CAvCkB,CAEf,MAAKf,KAAL,CAAa,CACTM,aAAa,CAAE,EADN,CAETT,WAAW,CAAE,EAFJ,CAAb,CAFe,aAMlB,C,2FAEoB,CACjBI,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWM,aAAvB,EACH,C,uCA+BQ,CACL,mBACI,4BAAM,SAAS,CAAC,SAAhB,eACI,oBAAC,IAAD,mBACI,oBAAC,SAAD,mBACI,oBAAC,KAAD,EAAO,GAAG,CAAC,MAAX,oBADJ,cAEI,oBAAC,KAAD,EACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,MAFT,CAGI,QAAQ,CAAE,KAAKd,YAHnB,CAII,WAAW,CAAC,yBAJhB,EAFJ,CADJ,CADJ,cAYI,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,KAAKO,QAAtC,WAZJ,cAeI,4CACI,yCADJ,CAEK,KAAKW,eAAL,EAFL,CAfJ,cAmBI,mCAnBJ,CADJ,CAuBH,C,6BAnEyB3B,S,EAwE9B,cAAeO,CAAAA,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {Button, Form, FormGroup, Input, Label} from \"reactstrap\";\n\n\nclass SearchMedicines extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            medicinesList: [],\n            searchValue: \"\"\n        };\n    }\n\n    componentDidUpdate() {\n        console.log(this.state.medicinesList)\n    }\n\n    handleChange = e => {\n        let { name, value } = e.target;\n        const searchValue = { [name]: value };\n        this.setState({ searchValue });\n    };\n\n    onSubmit = () => {\n        let searchValue = this.state.searchValue;\n        console.log(searchValue);\n        if (searchValue) {\n            axios\n                .get(`medicines/?name=${searchValue['name']}`, searchValue)\n                .then(res => this.setState({ medicinesList: res.data }))\n                .catch(err => console.log(err));\n            console.log(\"sent\");\n        }\n    };\n\n    renderMedicines = () => {\n        const medicinesItems = this.state.medicinesList;\n        return medicinesItems.map(item => (\n            <li key={item.id}>\n            <span>\n              {item.name} {item.price}\n            </span>\n            </li>\n        ));\n    };\n\n    render() {\n        return (\n            <main className=\"content\">\n                <Form>\n                    <FormGroup>\n                        <Label for=\"name\">Search medicine</Label>\n                        <Input\n                            type=\"text\"\n                            name=\"name\"\n                            onChange={this.handleChange}\n                            placeholder=\"Search by medicine name\"\n                        />\n                    </FormGroup>\n                </Form>\n                <Button color=\"primary\" onClick={this.onSubmit}>\n                    Search\n                </Button>\n                <div>\n                    <h6>Results:</h6>\n                    {this.renderMedicines()}\n                </div>\n                <p>End</p>\n            </main>\n        );\n    }\n\n\n}\n\nexport default SearchMedicines;"]},"metadata":{},"sourceType":"module"}