{"ast":null,"code":"import _classCallCheck from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/justyna/Desktop/apkaTest/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import EditCustomerModal from\"./EditCustomerModal\";import axios from\"axios\";var Customers=/*#__PURE__*/function(_Component){_inherits(Customers,_Component);var _super=_createSuper(Customers);function Customers(props){var _this;_classCallCheck(this,Customers);_this=_super.call(this,props);_this.refreshList=function(){axios.get(\"customers/\").then(function(res){return _this.setState({customersList:res.data});}).catch(function(err){return console.log(err);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();if(item.id){axios.put(\"customers/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"customers/\",item).then(function(res){return _this.refreshList();});};_this.handleDelete=function(item){axios.delete(\"customers/\".concat(item.id)).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={name:\"\",surname:\"\",age:null};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.renderCustomers=function(){var customersItems=_this.state.customersList;return customersItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(\"span\",null,item.name,\" \",item.surname,\" \",item.age),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this.editItem(item);},className:\"btn btn-info ml-2\"},\" Edit \"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this.handleDelete(item);},className:\"btn btn-danger ml-2\"},\" Delete \")));});};_this.state={modal:false,customersList:[],activeItem:{name:\"\",surname:\"\",age:null}};return _this;}_createClass(Customers,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.createItem,className:\"btn btn-secondary\"},\"Add customer\"),/*#__PURE__*/React.createElement(\"ul\",null,this.renderCustomers()),this.state.modal?/*#__PURE__*/React.createElement(EditCustomerModal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null);}}]);return Customers;}(Component);export default Customers;","map":{"version":3,"sources":["/Users/justyna/Desktop/apkaTest/frontend/src/components/Customers.js"],"names":["React","Component","EditCustomerModal","axios","Customers","props","refreshList","get","then","res","setState","customersList","data","catch","err","console","log","toggle","modal","state","handleSubmit","item","id","put","post","handleDelete","delete","createItem","name","surname","age","activeItem","editItem","renderCustomers","customersItems","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EditCustomerModal from \"./EditCustomerModal\";\nimport axios from \"axios\";\n\n\nclass Customers extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            modal: false,\n            customersList: [],\n            activeItem: {\n                name: \"\",\n                surname: \"\",\n                age: null\n            },\n        };\n    }\n    componentDidMount() {\n        this.refreshList();\n    }\n    refreshList = () => {\n        axios\n            .get(\"customers/\")\n            .then(res => this.setState({ customersList: res.data }))\n            .catch(err => console.log(err));\n    };\n\n    toggle = () => {\n        this.setState({ modal: !this.state.modal });\n    };\n\n    handleSubmit = item => {\n        this.toggle();\n        if (item.id) {\n            axios\n                .put(`customers/${item.id}/`, item)\n                .then(res => this.refreshList());\n            return;\n        }\n        axios\n            .post(\"customers/\", item)\n            .then(res => this.refreshList());\n    };\n    handleDelete = item => {\n        axios\n            .delete(`customers/${item.id}`)\n            .then(res => this.refreshList());\n    };\n    createItem = () => {\n        const item = { name: \"\", surname: \"\", age: null };\n        this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n    editItem = item => {\n        this.setState({ activeItem: item, modal: !this.state.modal });\n    };\n\n    renderCustomers = () => {\n        const customersItems = this.state.customersList;\n        return customersItems.map(item => (\n            <li key={item.id}>\n            <span>\n              {item.name} {item.surname} {item.age}\n            </span>\n                <span>\n              <button onClick={() => this.editItem(item)} className=\"btn btn-info ml-2\"> Edit </button>\n              <button onClick={() => this.handleDelete(item)} className=\"btn btn-danger ml-2\"> Delete </button>\n            </span>\n            </li>\n        ));\n    };\n\n    render() {\n        return (\n            <main className=\"content\">\n                <button onClick={this.createItem} className=\"btn btn-secondary\">\n                    Add customer\n                </button>\n                <ul>\n                    {this.renderCustomers()}\n                </ul>\n                {this.state.modal ? (\n                    <EditCustomerModal\n                        activeItem={this.state.activeItem}\n                        toggle={this.toggle}\n                        onSave={this.handleSubmit}\n                    />\n                ) : null}\n            </main>\n        );\n    }\n\n}\n\nexport default Customers;\n"]},"metadata":{},"sourceType":"module"}